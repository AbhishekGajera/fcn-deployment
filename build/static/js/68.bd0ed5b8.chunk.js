(this["webpackJsonppurple-react-free"]=this["webpackJsonppurple-react-free"]||[]).push([[68],{465:function(e,a,t){"use strict";t.r(a);var l=t(7),n=t.n(l),r=t(13),c=t(15),o=t(0),s=t.n(o),m=t(171),i=t(191),u=t.n(i),d=t(60),E=t(51),b=t(10),p=t(210),v=t.n(p),f=t(52),N=t(90),h=t(50);a.default=function(){var e,a=Object(b.g)(),t=Object(m.a)(["user"]),l=Object(c.a)(t,2),i=l[0],p=l[1],g=Object(o.useState)([]),O=Object(c.a)(g,2),j=O[0],w=O[1],y=Object(N.a)({mode:"onChange"}),C=y.register,x=y.handleSubmit,k=y.formState,q=k.errors,S=(k.isDirty,k.isValid,new RegExp("^\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*$")),B=(new RegExp("^(?=.*[A-Za-z])(?=.*[0-9])(?=.{8,})"),function(){var e=Object(r.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(a);case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),D=Object(o.useState)(null),T=Object(c.a)(D,2),R=(T[0],T[1]),V=Object(o.useState)(0),G=Object(c.a)(V,2),L=G[0],U=G[1],A=Object(o.useState)(0),J=Object(c.a)(A,2),P=J[0],Y=J[1],H=Object(o.useState)(10),Z=Object(c.a)(H,2),$=Z[0],z=(Z[1],s.a.useState(!1)),I=Object(c.a)(z,2),M=I[0],F=I[1],K=Object(o.useState)({}),Q=Object(c.a)(K,2),W=Q[0],X=Q[1];console.log(W),Object(o.useEffect)((function(){Object(r.a)(n.a.mark((function e(){var t,l,r,c,o,s,m,i,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P+$,e.prev=1,e.next=4,Object(d.i)($,P);case 4:return e.next=6,e.sent.data;case 6:c=e.sent,w(null===c||void 0===c?void 0:c.results),console.log("Loading items from ".concat(P," to ").concat(t)),R(null===c||void 0===c||null===(l=c.results)||void 0===l?void 0:l.slice(P,t)),U(Math.ceil((null===c||void 0===c||null===(r=c.results)||void 0===r?void 0:r.length)/$)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.info("error ",e.t0),(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message)?E.b.error(e.t0.response.data.message):E.b.error("There was an internal server error please try again later or contact support@fcn.com"),401===(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m||null===(i=m.data)||void 0===i?void 0:i.code)&&(u=JSON.stringify({refreshToken:localStorage.getItem("refreshToken")}),p("user",null,{path:"/"}),Object(d.q)(u).finally((function(){a.push("/user-pages/login-1")})));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))()}),[P,$]);return s.a.createElement("div",null,s.a.createElement(f.a,{show:M,onHide:function(){F(!1),X({})},backdrop:"static",keyboard:!1},s.a.createElement(f.a.Header,{closeButton:!0},s.a.createElement(f.a.Title,null,"Update Client")),s.a.createElement(f.a.Body,null,s.a.createElement("div",{className:"row auth"},s.a.createElement("div",{className:"col-12 grid-margin"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("form",{className:"form-sample",onSubmit:x(B)},s.a.createElement("p",{className:"card-description"}," Update Client "),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(h.a.Group,{className:"row"},s.a.createElement("label",{className:"col-sm-3 col-form-label"},"Name"),s.a.createElement("div",{className:"col-sm-9"},s.a.createElement(h.a.Control,Object.assign({type:"text",name:"name",defaultValue:W.name},C("name",{required:!0}))),q&&q.name&&s.a.createElement("p",null,"name is required field"))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(h.a.Group,{className:"row"},s.a.createElement("label",{className:"col-sm-3 col-form-label"},"Contact No"),s.a.createElement("div",{className:"col-sm-9"},s.a.createElement(h.a.Control,Object.assign({type:"text",name:"contactno",defaultValue:W.contactno},C("contactno",{required:!0,pattern:S}))),q&&q.contactno&&"required"===q.contactno.type&&s.a.createElement("p",null,"contact number is required field"),q&&q.contactno&&"pattern"===q.contactno.type&&s.a.createElement("p",null,"invalid phone number please use valid formate"))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(h.a.Group,{className:"row"},s.a.createElement("label",{className:"col-sm-3 col-form-label"},"Branch"),s.a.createElement("div",{className:"col-sm-9"},s.a.createElement(h.a.Control,Object.assign({type:"text",defaultValue:W.branch,name:"branch"},C("branch",{required:!0}))),q&&q.branch&&s.a.createElement("p",null,"branch is required field"))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(h.a.Group,{className:"row"},s.a.createElement("label",{className:"col-sm-3 col-form-label"},"Email"),s.a.createElement("div",{className:"col-sm-9"},s.a.createElement(h.a.Control,Object.assign({type:"text",name:"email",defaultValue:W.email},C("email",{required:!0,pattern:/^\S+@\S+$/i}))),q&&q.email&&"required"===q.email.type&&s.a.createElement("p",null,"email is required field"),q&&q.email&&"pattern"===q.email.type&&s.a.createElement("p",null,"invalid email formate"))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(h.a.Group,{className:"row"},s.a.createElement("label",{className:"col-sm-3 col-form-label"},"Role"),s.a.createElement("div",{className:"col-sm-9"},s.a.createElement(h.a.Control,Object.assign({type:"text",defaultValue:W.role,name:"role"},C("role",{required:!0}))),q&&q.branch&&s.a.createElement("p",null,"role is required field"))))),s.a.createElement("div",{className:"mt-3"},s.a.createElement("button",{className:"btn  btn-primary btn-lg font-weight-medium auth-form-btn",type:"submit"},"UPDATE"))))))))),s.a.createElement("div",{className:"page-header"},s.a.createElement("h3",{className:"page-title"},"Clients / create Clients "),s.a.createElement("nav",{"aria-label":"breadcrumb"},s.a.createElement("ol",{className:"breadcrumb"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement("a",{href:"!#",onClick:function(e){return e.preventDefault()}},null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.role," Dashboard")),s.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},"Create clients")))),s.a.createElement("div",{className:"col-lg-12 grid-margin stretch-card p0"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body"},s.a.createElement("h4",{className:"card-title"},"Client list"),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null," Name "),s.a.createElement("th",null," Contact no. "),s.a.createElement("th",null," Branch "),s.a.createElement("th",null," Email "),s.a.createElement("th",null," Role "),s.a.createElement("th",null," Edit "),s.a.createElement("th",null," Delete "))),s.a.createElement("tbody",null,null===j||void 0===j?void 0:j.map((function(e){return s.a.createElement("tr",null,s.a.createElement("td",null,null===e||void 0===e?void 0:e.name),s.a.createElement("td",null,null===e||void 0===e?void 0:e.contactno),s.a.createElement("td",null,null===e||void 0===e?void 0:e.branch),s.a.createElement("td",null,null===e||void 0===e?void 0:e.email),s.a.createElement("td",null,null===e||void 0===e?void 0:e.role),s.a.createElement("td",null,s.a.createElement("i",{onClick:function(){return X(e),void F(!0)},className:"mdi mdi-lead-pencil"})),s.a.createElement("td",null,s.a.createElement("i",{onClick:function(){return null===e||void 0===e||e.id,void v.a.fire({title:"Are you sure?",text:"You will not be able to recover this imaginary file!",icon:"warning",showCancelButton:!0,cancelButtonColor:"#DD6B55",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((function(e){e.isConfirmed||e.dismiss===v.a.DismissReason.cancel&&v.a.fire("Cancelled","Your imaginary file is safe :)","error")}))},className:"mdi mdi-delete"}," ")))})))),s.a.createElement(u.a,{breakLabel:"...",nextLabel:"next >",className:"client-list",onPageChange:function(e){var a=e.selected*$%j.length;console.log("User requested page number ".concat(e.selected,", which is offset ").concat(a)),Y(a)},pageRangeDisplayed:5,pageCount:L,previousLabel:"< previous",renderOnZeroPageCount:null}))))))}}}]);
//# sourceMappingURL=68.bd0ed5b8.chunk.js.map