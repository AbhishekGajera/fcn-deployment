(this["webpackJsonppurple-react-free"]=this["webpackJsonppurple-react-free"]||[]).push([[49],{455:function(e,a,t){"use strict";t.r(a);var r=t(34),n=t.n(r),l=t(46),o=t(35),s=t(0),i=t.n(s),c=t(7),m=t(170),u=t(49),d=t(164),p=t(70);a.default=function(){var e,a,r,s,f,v,E=Object(c.g)(),g=Object(m.a)({mode:"onChange"}),b=g.register,h=g.handleSubmit,y=g.formState,w=y.errors,N=y.isDirty,x=y.isValid,j=Object(d.a)(["user"]),O=Object(o.a)(j,2),k=O[0],q=O[1],S=function(){var e=Object(l.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=JSON.stringify({refreshToken:localStorage.getItem("refreshToken")}),q("user",null,{path:"/"}),Object(u.k)(a).finally((function(){E.push("/user-pages/login-1")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(n.a.mark((function e(a){var t,r,l,o,s,i,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.terms,a.password||delete a.password,e.prev=2,e.next=5,Object(u.j)(a,null===k||void 0===k||null===(t=k.user)||void 0===t?void 0:t.id);case 5:r=e.sent,q("user",r.data,{path:"/"}),p.b.success("Profile updated sucssefully"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.message)?p.b.error(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.data.message):p.b.error("There was an internal server error please try again later or contact support@fcn.com"),401===(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.code)&&S();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(a){return e.apply(this,arguments)}}(),I=new RegExp("^(?=.*[A-Za-z])(?=.*[0-9])(?=.{8,})"),U=new RegExp("^\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*$");return i.a.createElement("div",null,i.a.createElement("div",{className:"d-flex align-items-center auth px-0"},i.a.createElement("div",{className:"row w-100 mx-0"},i.a.createElement("div",{className:"col-lg-7 mx-auto"},i.a.createElement("div",{className:"auth-form-light text-left py-5 px-4 px-sm-5"},i.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},i.a.createElement("div",{className:"nav-profile-img"},i.a.createElement("img",{src:t(79),alt:"user"}),i.a.createElement("span",{className:"availability-status online"}))),i.a.createElement("h4",null,"Change in details?"),i.a.createElement("h6",{className:"font-weight-light"},"Update your profile is normal, no required to verify again"),i.a.createElement("form",{className:"pt-3",autoComplete:"new-password",onSubmit:h(C)},i.a.createElement("div",{className:"form-group"},i.a.createElement("input",Object.assign({type:"text",className:"form-control form-control-lg",id:"exampleInputUsername1",placeholder:"Username",name:"name",defaultValue:null===k||void 0===k||null===(e=k.user)||void 0===e?void 0:e.name},b("name",{required:!0}))),w&&w.name&&i.a.createElement("p",null,"name is required field")),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",Object.assign({type:"text",className:"form-control form-control-lg",id:"exampleInputEmail1",placeholder:"Email",name:"email",defaultValue:null===k||void 0===k||null===(a=k.user)||void 0===a?void 0:a.email},b("email",{required:!0,pattern:/^\S+@\S+$/i}))),w&&w.email&&"required"===w.email.type&&i.a.createElement("p",null,"email is required field"),w&&w.email&&"pattern"===w.email.type&&i.a.createElement("p",null,"invalid email formate")),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",Object.assign({type:"date",className:"form-control form-control-lg",id:"exampleInputUsername1",placeholder:"Date of birth",name:"dob"},b("dob",{required:!0}),{defaultValue:null===k||void 0===k||null===(r=k.user)||void 0===r?void 0:r.dob})),w&&w.dob&&i.a.createElement("p",null,"birthdate is required field")),i.a.createElement("div",{className:"form-group"},i.a.createElement("input",Object.assign({type:"text",className:"form-control form-control-lg",id:"exampleInputUsername1",placeholder:"Contact number",name:"contactno"},b("contactno",{required:!0,pattern:U}),{defaultValue:null===k||void 0===k||null===(s=k.user)||void 0===s?void 0:s.contactno})),w&&w.contactno&&"required"===w.contactno.type&&i.a.createElement("p",null,"contact number is required field"),w&&w.contactno&&"pattern"===w.contactno.type&&i.a.createElement("p",null,"invalid phone number please use valid formate")),i.a.createElement("div",{className:"form-group"},i.a.createElement("select",Object.assign({className:"form-control form-control-lg",id:"exampleFormControlSelect2",defaultValue:null===k||void 0===k||null===(f=k.user)||void 0===f?void 0:f.country,name:"country"},b("country",{required:!0})),i.a.createElement("option",null,"Country"),i.a.createElement("option",null,"United States of America"),i.a.createElement("option",{selected:!0},"India"),i.a.createElement("option",null,"United Kingdom"),i.a.createElement("option",null,"Germany"),i.a.createElement("option",null,"Argentina"))),"google"!==(null===k||void 0===k||null===(v=k.user)||void 0===v?void 0:v.registrationType)&&i.a.createElement("div",{className:"form-group"},i.a.createElement("input",Object.assign({type:"password",className:"form-control form-control-lg",id:"exampleInputPassword1",placeholder:"Password",autoComplete:"new-password",name:"password"},b("password",{required:!1,pattern:I}))),i.a.createElement("p",null,"Note :- if you don't want to update your password then simply leave it blank or fill your new password"),w&&w.password&&"pattern"===w.password.type&&i.a.createElement("p",null,"password should have at least 8 characters , 1 number and latter")),i.a.createElement("div",{className:"mb-4"},i.a.createElement("div",{className:"form-check"},i.a.createElement("label",{className:"form-check-label text-muted"},i.a.createElement("input",Object.assign({type:"checkbox",className:"form-check-input",name:"terms"},b("terms",{required:!0}))),i.a.createElement("i",{className:"input-helper"})," Confirm your deatils"))),i.a.createElement("div",{className:"mt-3"},i.a.createElement("button",{className:"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn",type:"submit",disabled:!N||!x},"UPDATE PROFILE"))))))))}}}]);
//# sourceMappingURL=49.c9fc0759.chunk.js.map